<!DOCTYPE html>

<html>
	<head>
		<title>Simon Blom</title>
		<link rel="stylesheet" href="main.css">
	</head>
	<body>
		<div class="main-frame">
			<div class="navigation">
				<a href="index.html">Home</a>
				<a href="about.html">About</a>
				<a href="contact.html">Contact</a>
			</div>
			<div class="textbox">
				In this project I wanted to learn more about real-time ocean simulation. One of my
				goals was to practice on reading and implementing a scientific research paper. On
				top of that I also wanted to understand the concept behind the very interesting
				Fast Fourier Transform and implement it efficiently on the GPU.
			</div>
			<div class="textbox">
				This project was implemented with C++ and DirectX 11. It is based on the paper
				<a href="https://people.computing.clemson.edu/~jtessen/reports/papers_files/
				coursenotes2004.pdf">Simulating Ocean Water</a> by Jerry Tessendorf. All of the
				work that I show on this page represents my own independent work.
			</div>
			<div class="textbox">
				The initial random frequencies are generated at application startup by the CPU and
				then moved into a texture that the GPU can read from. Each frequency is represented
				by a complex number and computed based on gaussian random numbers combined with the
				Phillips spectrum. The texture consists of four channels where the red and green
				channel contains the real and imaginary part of the frequency while the blue and
				alpha channel contains the real and imaginary part of the conjugated frequency:
			</div>
			<div class="image-layout">
				<a href="images/02-01.png" style="grid-area: 1 /  1 / 4 /  4;"><img src="images/02-01.png"></a>
				<a href="images/02-02.png" style="grid-area: 1 /  4 / 4 /  7;"><img src="images/02-02.png"></a>
				<a href="images/02-03.png" style="grid-area: 1 /  7 / 4 / 10;"><img src="images/02-03.png"></a>
				<a href="images/02-04.png" style="grid-area: 1 / 10 / 4 / 13;"><img src="images/02-04.png"></a>
			</div>
			<div class="textbox">
				The next step was to implement a compute shader that generates time based
				frequencies from the initial frequencies. This compute shader is executed at the
				start of each new frame and generates frequencies for height, horizontal
				displacement and surface slope. Since this is done in the frequency domain the
				resulting textures look quite similar to the texture with the initial frequencies.
			</div>
			<div class="textbox">
				After that I implemented the Fast Fourier Transform with compute shaders. It takes
				a complex number in the frequency domain and then transforms it into a complex
				number in the time domain. The implementation fully utilizes the SIMD instructions
				on the GPU and therefore transforms two frequencies at the same time. Since there
				are five frequencies in total the compute shaders only need to be executed three
				times.
			</div>
			<div class="textbox">
				These are the output textures from the Fast Fourier Transform:
			</div>
			<div class="image-layout">
				<a href="images/02-05.png" style="grid-area: 1 / 1 / 9 /  9;"><img src="images/02-05.png"></a>
				<a href="images/02-06.png" style="grid-area: 1 / 9 / 5 / 13;"><img src="images/02-06.png"></a>
				<a href="images/02-07.png" style="grid-area: 5 / 9 / 9 / 13;"><img src="images/02-07.png"></a>
			</div>
			<div class="textbox">
				The texture on the left contains the height while the texture in the upper right
				corner contains the horizontal displacement and the texture in the lower right
				corner contains the surface slope of the ocean.
			</div>
			<div class="textbox">
				After the transformation I use the generated textures to render the ocean surface.
				The vertex shader uses the height texture to offset each vertex on the y axis and
				the horizontal displacement texture to offset each vertex on the x and z axis. In
				wireframe mode the ocean surface looks like this:
			</div>
			<div class="image-layout">
				<a href="images/02-08.png" style="grid-area: 1 / 1 /  6 / 13;"><img src="images/02-08.png"></a>
				<a href="images/02-09.png" style="grid-area: 6 / 1 / 11 / 13;"><img src="images/02-09.png"></a>
			</div>
			<div class="textbox">
				In the pixel shader I use the generated textures to compute various light
				components. The height texture is used to approximate the light scattering effect
				on wave peaks. The surface slope texture is used to compute the surface normal
				which in turn is used to compute specular light and the direction of reflected
				light.
			</div>
			<div class="textbox">
				These output examples show the specular, scattered and reflected components:
			</div>
			<div class="image-layout">
				<a href="images/02-10.png" style="grid-area: 1 / 1 / 5 /  5;"><img src="images/02-10.png"></a>
				<a href="images/02-11.png" style="grid-area: 1 / 5 / 5 /  9;"><img src="images/02-11.png"></a>
				<a href="images/02-12.png" style="grid-area: 1 / 9 / 5 / 13;"><img src="images/02-12.png"></a>
			</div>

			<div class="textbox">
				These three light components are then combined together with some ambient light and
				the base color of the ocean in order to determine the color value for each pixel
				and to obtain the final result:
			</div>
			<div class="image-layout">
				<a href="images/02-13.png" style="grid-area: 1 / 1 /  6 / 13;"><img src="images/02-13.png"></a>
				<a href="images/02-14.png" style="grid-area: 6 / 1 / 11 / 13;"><img src="images/02-14.png"></a>
			</div>
			<div class="textbox">
				This runs at roughly 70 FPS on an NVIDIA GeForce RTX 2070 with the resolution
				1920x1200 together with x4 SSAA and the ocean grid resolution set to 2048x2048.
			</div>
			<div class="video-layout">
				<iframe src="https://www.youtube.com/embed/V3lDVTRCZGA?rel=0" allowfullscreen></iframe>
			</div>
			<div class="textbox">
				You can find the project repository <a href="https://github.com/simonblo/dd1354-
				ocean-simulation">here</a> which contains all resources and source code.
			</div>
		</div>
	</body>
</html>